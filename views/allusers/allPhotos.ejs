<%- include("../partials/header") %> <%- include("../partials/navbar") %>

<!-- css for justified Gallery -->
<link
   rel="stylesheet"
   href="../../JustifiedGalleryFiles/justifiedGallery.min.css"
/>

<h1></h1>
<!-- search bar for photos -->
<input type="text" id="photoSearch" placeholder="Serach name and description" />
<input type="text" id="tagSearch" placeholder="search by tag" />
<input type="text" id="userSearch" placeholder="search by user" />
<input type="text" id="longSearch" placeholder="longitude with in x km of " /><!-- validate as number -->
<input type="text" id="latSearch" placeholder="latitude with in x km of " /><!-- validate as number -->
<!--TODO add labels -->


<!-- iamge gallery -->

<div id="photoGallery">
   <% photosFound.forEach((photo, ndx) =>{%>

   <a href="/photos/<%= photo._id %>/photo">
      <img
         class="justifiedGalImg"
         alt="<%= photo.caption %>"
         src="/uploads/<%= photo.fileName %>"
      />
   </a>

   <% })%>
</div>

<!-- jquerry -- needed for justified gallery -->
<script
   src="https://code.jquery.com/jquery-3.5.1.min.js"
   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
   crossorigin="anonymous"
></script>

<!-- script for including justified gallery -->
<script src="../../JustifiedGalleryFiles/jquery.justifiedGallery.min.js"></script>

<!-- justified gallery script for page -->
<script>
   //setting viewport variables (https://stackoverflow.com/questions/1248081/how-to-get-the-browser-viewport-dimensions)
   // const vw = Math.max(
   //    document.documentElement.clientWidth || 0,
   //    window.innerWidth || 0,
   // );
   // const vh = Math.max(
   //    document.documentElement.clientHeight || 0,
   //    window.innerHeight || 0,
   // );

   // $('#photoGallery').justifiedGallery({
   //    rowHeight: Math.floor(vh / 3.3),
   //    lastRow: 'nojustify',
   //    margins: 20,
   //    lastRow: 'center',
   // });
</script>

<!-- script to get photos -->

<script src="../../scripts/photoSearch.js"></script>


<!-- footer -->
<%- include("../partials/footer") %>
