<%- include("../partials/header") %> <%- include("../partials/nav") %>

<!-- css for justified Gallery -->
<link
   rel="stylesheet"
   href="../../JustifiedGalleryFiles/justifiedGallery.min.css"
/>


<!-- styles sheet for photo page -->

<link rel="stylesheet" href="../../styles/photoPage.css" />

<!-- ////////////////// -->
<!--    html   -->
<!-- ////////////////// -->

<!-- temp to get feilds below nav bar, delete and alter CSS -->
<H1></H1>
   
<%- include("../partials/photos/powerSearch") %>

<div id="ErrorList">
   <% if( Object.keys(errors).length >0 ){%>
      <h2>errors found in query: </h2>
      <%  Object.keys(errors).forEach((errorType, ndx) =>{%>
         <h3><%= errorType%></h3>
         <p><%=errors[errorType]%></p>
   <% })} %>
</div>


<!-- iamge gallery -->

<div id="photoGallery">
   <% if( photosFound.length >0 ){ photosFound.forEach((photo, ndx) =>{%>

   <a href="/photos/<%= photo._id %>/photo">
      <img
         class="justifiedGalImg"
         alt="<%= photo.caption %>"
         src="/uploads/<%= photo.fileName %>"
      />
   </a>

   <% })} else{ %>
      <h2>No results to display</h2>
      <% }%>
</div>

<!--//////////////////////  -->
<!-- Scripts  -->
<!--//////////////////////  -->

<!-- jquerry -- needed for justified gallery -->
<script
   src="https://code.jquery.com/jquery-3.5.1.min.js"
   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
   crossorigin="anonymous"
></script>

<!-- script for including justified gallery -->
<script src="../../JustifiedGalleryFiles/jquery.justifiedGallery.min.js"></script>

<!-- script to get photos from search and generate html -- will include if -->
<!-- <script src="../../scripts/photoSearch.js"></script> -->

<script src="../../scripts/photoSearchReload.js"></script>

<!-- justified gallery script for page -->
<script src="../../scripts/resizeJustGalScript.js"></script>


<!-- footer -->
<%- include("../partials/footer") %>
